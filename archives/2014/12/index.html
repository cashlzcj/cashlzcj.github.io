<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2014/12 | iOS零零碎碎备忘录</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="og:type" content="blog">
<meta name="og:title">
<meta name="og:url" content="https://github.com/cashlzcj/cashlzcj.github.io.git/archives/2014/12/">
<meta name="og:image">
<meta name="og:site_name" content="iOS零零碎碎备忘录">
<meta name="og:description">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="iOS零零碎碎备忘录" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">iOS零零碎碎备忘录</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:https://github.com/cashlzcj/cashlzcj.github.io.git"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-web开发零零碎碎备忘录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/08/web开发零零碎碎备忘录/" class="article-date">
  <time datetime="2014-12-07T16:09:59.000Z" itemprop="datePublished">Dec 8 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/08/web开发零零碎碎备忘录/">web开发零零碎碎备忘录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="PHP笔记">PHP笔记</h2>
<h3 id="1、常用工具&amp;常用库">1、常用工具&amp;常用库</h3>
<h4 id="(1)firebug">(1)firebug</h4>
<p>firebug是firefox浏览器下面的一个插件(safari上面也有Firebug Lite for Safari)，可以用来调试Html、CSS、JS等。</p>
<h4 id="(2)livehttpheaders">(2)livehttpheaders</h4>
<p>捕捉Httpheader的利器。</p>
<h4 id="(3)YUI、JQuery等UI库">(3)YUI、JQuery等UI库</h4>
<p>可以解决一些浏览器兼容问题。<br>Dojo、ExtJS、JQuery、MooTools、ProtoType、script aculo us、 YUI<br><a href="http://www.quirksmode.org" target="_blank">www.quirksmode.org</a></p>
<h3 id="2、环境配置的一些名词">2、环境配置的一些名词</h3>
<p>CNAME、302临时跳转、301永久跳转(重定向)、suphp保护代码、.htaccess文件(分布式配置文件),具体用到是玩。  </p>
<p>目录权限:一般公共目录为701或711，php file为600，css 静态Html图片等为644.</p>
<p>报403是因为权限问题。</p>
<p>haproxy可以实现负载均衡和冗余</p>
<p>memcached Daemon </p>
<h3 id="3、显示代码所有错误">3、显示代码所有错误</h3>
<pre><code><span class="php"><span class="preprocessor">&lt;?php</span>
error_reporting(E_ALL);
ini_set(“display_errors”, <span class="keyword">TRUE</span>);
&gt;</span>
</code></pre><p>@可以抑制报错 小心使用</p>
<h3 id="4、常用函数">4、常用函数</h3>
<p>1、<code>htmlspecialchars</code> 去掉html标签 特殊字符  </p>
<p>2、<code>session_start</code> 检测服务器发送的HTTP头信息，是否有cookie头信息，有的话是否有某键叫PHPSESSIONID,有的话对应的长传随机值是什么，函数会在文件系统中找到对应文本文件  </p>
<p>3、<code>isset</code> 是否已经设置  </p>
<p>4、<code>=</code>相当于<code>print</code>、<code>echo</code>  </p>
<p>5、<code>&lt;?php xx :?&gt;</code>冒号表示退出php模式，<a href="http://blog.csdn.net/xin_king/article/details/38274917" target="_blank">http://blog.csdn.net/xin_king/article/details/38274917</a>  </p>
<p>6、<code>mysql_real_escape_string</code>这个函数能够防止sql注入 接受用户输入时候调用</p>
<p>7、<code>die($sql)</code>数据库连接失败时调用  </p>
<p>8、<code>mysql_num_rows($result)</code>记录行数  </p>
<p>9、<code>mysql_fetch_assoc($result)</code>从结果集中返回一个关联数据，如果没有则返回false.  </p>
<p>10、<code>select 1 from tablename where xx = “xx”</code>小技巧，这个sql语句可以用来查看是否匹配，如果匹配上会返回1.  </p>
<p>11、php json_encode();<br>eval()<br>加括号表示是对象<br>headr(“Content-type: application/json”)</p>
<h3 id="5、数据库相关">5、数据库相关</h3>
<p>1、PASSWORD加密 AED_ENCRYPT加密生成二进制字符串 数据库字段类型。<br>数据库导出sql文件时，密码字段也许不是我们想要的。<span style="color:red">将用户输入的密码作为秘钥</span>。  </p>
<p>2、mysql中id类型一般为无符号整型。</p>
<p>3、inner join 表示内连接需要带条件 如where<br>   cross join 表示交叉连接<br>   left outer join 外连接和左连接，除了条件匹配数据还有左表的非匹配数据，而内连接只有匹配数据  </p>
<p>4、数据库中尽量不要使用删除数据，而采用标记的形式  </p>
<p>5、InnoDB myisasm(不是很明白)  </p>
<p>6、读锁定、写锁定，用事务可以解决竞态条件问题  </p>
<p>7、rollback  </p>
<h3 id="6、Javascript相关">6、Javascript相关</h3>
<p>1、&lt;![CDATA[ 盛大文学疯狂扩展 单季收入过亿<br>  ]]&gt;  将其解析为可执行代码 防止一些符号不能识别<br>某些文本，比如 JavaScript 代码，包含大量 “&lt;” 或 “&amp;” 字符。为了避免错误，可以将脚本代码定义为 CDATA。<br>CDATA 部分中的所有内容都会被解析器忽略。<br>CDATA 部分由 “&lt;![CDATA[“ 开始，由 “]]&gt;” 结束：  </p>
<p>2、浏览器  从左到右 从上到下阅读代码  注意javascript的载入方式  window.onload = function(){};可以解决javascript 未读完dom时候执行问题 页面执行完后会执行这个函数，用户可以禁用js和cookie</p>
<p>3、小技巧var a = new Array(); 或 var a = []; 定义一个数组<br>a[0] = “foo” 定义数组<br>小技巧 a[a.length] = “foo”; a[a.length] = “bar”; 长度变化  </p>
<p>4、document.forms 所有表单元素<br>document.getElementById(“xxid”) 访问元素 jquery 中访问元素$  </p>
<p>5、javascript中正则表达式 用/正则/ 包裹 .表示任意字符.+表示很多任意字符.表示真正的.，$表示结束  </p>
<p>6、obj.key obj[“key”]   var obj = { key : value} json  </p>
<p>7、css属性是连字符 javascript中用驼峰式访问 如font-family fontFamily  </p>
<p>8、window表示所有内容所在的super structure   document是引用服务器端的所有内容；window.setInterval  设置定时器  </p>
<p>9、<a href="http://www.jslint.com" target="_blank">www.jslint.com</a> 校验 静态分析<br>js压缩工具 JSMin packer  shrinkSafe YUI compressor</p>
<p>10、AJAX:<br>abort 终止当前请求<br>getAllResponseHeaders<br>getResponseHeader(header) http 头<br>open(method,url)<br>open(method,url,async)<br>open(method,url,async,user)<br>open(method,url,async,user, password)<br>send()<br>send(data)<br>setRequestHeader(header,value)</p>
<p>submit后返回true将会跳转页面，返回false将不会<br>xhr.readyState == 4 为完全加载状态<br>其他状态<br>0（unitialized）<br>1 (open)<br>2 (sent)<br>3 (receiving)<br>4 (loaded)</p>
<p>11、ajax 同源策略  JS只能与同一个域中的页面进行通讯,同源策略主要是浏览器的支持，也有例外 如JSONP技术<br>由于同源策略，一般来说位于 server1.example.com 的网页无法与不是 server1.example.com的服务器沟通，而 HTML的<code>&lt;script&gt;</code> 元素是一个例外。利用 <code>&lt;script&gt;</code> 元素的这个开放策略，网页可以得到从其他来源动态产生的 JSON资料，而这种使用模式就是所谓的 JSONP。用 JSONP 抓到的资料并不是 JSON，而是任意的JavaScript，用 JavaScript 直译器执行而不是用 JSON 解析器解析。<br>同源条件<br>协议相同(比如都是http://)<br>端口相同(通常都是80)<br>域名相同  </p>
<p>12、innerHtml  innerHTML 属性设置或返回表格行的开始和结束标签之间的 HTML。 有安全风险，小心使用<br>跨站脚本攻击<br>strip_tag剥离标签  </p>
<p>13、强制浏览器打开新的页面  target=“_blank”<br><a name=“#top”> <a href=“#top”>滚到上面</a>  — 点击回到顶部<br>mailto  点击出现邮件客户端</p>
<h3 id="安全">安全</h3>
<p>1、Telnet 密码明文 是ssh的鼻祖， ssh是安全shell<br>网卡混杂模式<br>ssh 默认TCP端口22 创建隧道<br>FTP不安全  SFTP安全  </p>
<p>2、Validate local HTML 是否符合w3c标准<br>suPHP / fastCGI<br>session 有可能放数据库（session粘滞）<br>session劫持<br>session cookie http 是明文的，https是加密的<br>php.ini中可以配置session cookie标记为 secure 这样浏览器就会只在https时发送这个加密session cookie（https） SSL(数字签名证书)是https的安全基础<br>HTTPS Everywhere Force TLS 客户端改成https<br>VPN安全</p>
<p>Wireshark 嗅探工具</p>
<p>3、SSL:.key .csr<br>通配SSL证书 端口443<br>php apache版本 可以关掉(以防止针对版本漏洞攻击) http head</p>
<p>4、NFS  network file system 网络文件系统<br>iSCSI 文件共享</p>
<h3 id="问题:">问题:</h3>
<h4 id="mysql_创建外键">mysql 创建外键</h4>
<p>alter table hs_order add constraint  cust    foreign key (cust_id) references hs_customer(cust_id)<br><strong>注意外键类型必须一致否则报错,做外键关联的时候，一定要保证你关联表的主键是唯一的。</strong></p>
<h4 id="mysql_MAMP配置文件路径">mysql MAMP配置文件路径</h4>
<p>Using MySQL command line with MAMP<br>To use the MySQL command line with MAMP or MAMP PRO,<br>perform the following steps:<br>Start MAMP or MAMP PRO<br>Start the server<br>Open Terminal (Applications - Utilities)<br>Type in: (one line)<br>/Applications/MAMP/Library/bin/mysql —host=localhost -uroot -proot    </p>
<p>Now you can use the MySQL command line. For exmaple to show all your databases with show databases; </p>
<p>修改mysql配置文件/etc/my.cnf</p>
<p>sudo cp /usr/local/mysql/support-files/my-medium.cnf /etc/my.cnf</p>
<p>MAMP/Library/support-files</p>
<p>sudo vi /etc/my.cnf</p>
<p>[client]部分加入：<br>default-character-set=utf8<br>[mysqld]部分加入：<br>character-set-server=utf8</p>
<h4 id="mac下安装pecl">mac下安装pecl</h4>
<p>cd /usr/lib/php<br>sudo php install-pear-nozlib.phar </p>
<p>Edit:</p>
<p>/etc/php.ini and find the line: ;<br>include_path = “.:/php/includes”<br>修改为:<br>include_path = “.:/usr/lib/php/pear”<br>sudo pear channel-update pear.php.net<br>sudo pecl channel-update pecl.php.net<br>sudo pear upgrade-all</p>
<h4 id="前端">前端</h4>
<p>jquery中.xxx表示 class为xxx的所有元素，<br>#xxx表示id = xxx的第一个元素</p>
<p>js中接收php数组<br>&lt;?php echo json_encode($customer_list);?&gt;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/cashlzcj/cashlzcj.github.io.git/2014/12/08/web开发零零碎碎备忘录/" data-id="za9pvhuv8bo19o33" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ios零零碎碎备忘录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/05/ios零零碎碎备忘录/" class="article-date">
  <time datetime="2014-12-05T14:22:49.000Z" itemprop="datePublished">Dec 5 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/05/ios零零碎碎备忘录/">iOS零零碎碎备忘录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="iOS零零碎碎备忘录">iOS零零碎碎备忘录</h2>
<h3 id="1-CGRectInset">1.CGRectInset</h3>
<pre><code><span class="built_in">CGRect</span> CGRectInset（
<span class="built_in">CGRect</span> rect, 
<span class="built_in">CGFloat</span> dx, 
<span class="built_in">CGFloat</span> dy）
</code></pre><p>该结构体可以表示已rect为中心，结合dx,dy形成的一个矩形CGRect区域</p>
<h3 id="2-注释">2.注释</h3>
<p>这样格式的注释 调用时将被自动加入到提示中<br>附javadoc <a href="http://en.wikipedia.org/wiki/Javadoc" target="_blank"> http://en.wikipedia.org/wiki/Javadoc</a>  </p>
<h3 id="3-@import写法（Modules）">3.@import写法（Modules）</h3>
<p> @import MessageUI; 等价于 #import <MessageUI/MessageUI.h><br> @import MessageUI.MFMailComposeViewController; 等价于 #import <MessageUI/MFMailComposeViewController.h><br> 如果使用的是iOS7或者MacOS10.9的SDK，在Build Settings中将Enable Modules(C and Objective-C)打开，然后保持原来的#import写法就行了。是的，不需要任何代码上的改变，编译器会在编译的时候自动地把可能的地方换成Modules的写法去编译的。  </p>
<h3 id="4-删除线">4.删除线</h3>
<p>删除线 可以用attribute  NSStrikethroughStyleAttributeName，再也不用自己画了  </p>
<h3 id="5-修改图片颜色">5.修改图片颜色</h3>
<p> <code>- (void)drawInRect:(CGRect)rect blendMode:(CGBlendMode)blendMode alpha:(CGFloat)alpha</code>;修改图片颜色   </p>
<h3 id="6-Objc与C/C++混编注意">6.Objc与C/C++混编注意</h3>
<p>在做混合编译之前一定要把编译器的Compile Sources As选项改为Objective C++。  </p>
<h3 id="7-一个ARC中引用申明的错误">7.一个ARC中引用申明的错误</h3>
<p>Receiver type ‘X’ for instance message is a forward declaration<br>这往往是引用的问题。ARC要求完整的前向引用，也就是说在MRC时代可能只需要在.h中申明@class就可以，但是在ARC中如果调用某个子类中未覆盖的父类中的方法的话，必须对父类.h引用，否则无法编译。  </p>
<h3 id="8-iOS8_NSUserDefaults模拟器中的清除">8.iOS8 NSUserDefaults模拟器中的清除</h3>
<p>Macintosh HD ▸ Users ▸ username ▸ Library ▸ Developer ▸ CoreSimulator ▸ Devices ▸ SIMULATORUUID ▸ data ▸ Library ▸ Preferences ▸ YourApplicationBundleID.plist<br>删除这个路径下的plist就可以清除了。  </p>
<h3 id="9-获取中文拼音CFStringTransform">9.获取中文拼音CFStringTransform</h3>
<p>例子<br>`</p>
<ul>
<li>(NSString<em>)getSpellForWord:(NSString</em>)word<br>{<br>  NSMutableString <em>spell = [NSMutableString stringWithString:word];<br>  CFRange range = CFRangeMake(0, spell.length);<br>  CFStringTransform((CFMutableStringRef)spell, &amp;range, kCFStringTransformMandarinLatin, NO);<br>  CFStringTransform((CFMutableStringRef)spell, &amp;range, kCFStringTransformStripCombiningMarks, NO);<br>  spell = (NSMutableString</em>)[spell trim];<br>  return spell;<br>}`  </li>
</ul>
<h3 id="10-GCD定时器">10.GCD定时器</h3>
<p><code>__block int timeout = 2; //倒计时时间
    dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
     self.timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0,queue);
    dispatch_source_set_timer(self.timer,dispatch_walltime(NULL, 0),1.0*NSEC_PER_SEC, 0); //每秒执行
    dispatch_source_set_event_handler(self.timer, ^{
        if(timeout&lt;=0){
            dispatch_source_cancel(self.timer);
            dispatch_async(dispatch_get_main_queue(), ^{
                //设置界面的按钮显示 根据自己需求设置
                [self hiddenView];
            });
        }else{
            timeout--;
        }
    });
    dispatch_resume(self.timer);</code>   </p>
<h3 id="11-解决xcode6模拟器启动Bug">11.解决xcode6模拟器启动Bug</h3>
<ul>
<li>Open the simulator via Xcode -&gt; Open Developer Tool -&gt; iOS simulator (even if it can’t launch, the app will be open).<ul>
<li>With the simulator app open, go to Hardware -&gt; Device -&gt; Manage Devices.</li>
<li>Add any missing simulators with the plus button (all of mine were missing for some reason).  </li>
</ul>
</li>
</ul>
<h3 id="12-ios7滑动返回手势_及是否取消判断interactivePopGestureRecognizer">12.ios7滑动返回手势 及是否取消判断interactivePopGestureRecognizer</h3>
<p>`</p>
<ul>
<li>(void)navigationController:(UINavigationController <em>)navigationController willShowViewController:(UIViewController </em>)viewController animated:(BOOL)animated<br>{<pre><code>  <span class="keyword">id</span>&lt;UIViewControllerTransitionCoordinator]] tc = navigationController<span class="variable">.topViewController</span><span class="variable">.transitionCoordinator</span>;
  [tc notifyWhenInteractionEndsUsingBlock:^(<span class="keyword">id</span>&lt;UIViewControllerTransitionCoordinatorContext]] context) {
      <span class="built_in">NSLog</span>(@<span class="string">"7: %i"</span>, [context isCancelled]);
</code></pre>  }];<br>}`  </li>
</ul>
<h3 id="13-设置空间全局颜色appearance_proxy">13.设置空间全局颜色appearance proxy</h3>
<p><a href="http://blog.csdn.net/huifeidexin_1/article/details/11890119" target="_blank">http://blog.csdn.net/huifeidexin_1/article/details/11890119</a>  </p>
<h3 id="14-autolayout_scrollview刺头">14.autolayout scrollview刺头</h3>
<p><a href="http://andyyou.logdown.com/posts/218193-ios-use-uiscrollview-autolayout" target="_blank">http://andyyou.logdown.com/posts/218193-ios-use-uiscrollview-autolayout</a><br><a href="http://blog.csdn.net/meegomeego/article/details/39995477" target="_blank">http://blog.csdn.net/meegomeego/article/details/39995477</a>  </p>
<h3 id="15-storyboard详解">15.storyboard详解</h3>
<p><a href="http://www.cocoachina.com/ios/20141124/10301.html" target="_blank">http://www.cocoachina.com/ios/20141124/10301.html</a>  </p>
<h3 id="16-基于cocospod创建静态库">16.基于cocospod创建静态库</h3>
<p><a href="http://www.cnblogs.com/brycezhang/p/4117180.html" target="_blank">http://www.cnblogs.com/brycezhang/p/4117180.html</a>  </p>
<h3 id="17-ios8适配">17.ios8适配</h3>
<p>Launch Screen.xib 只能在iOS7.1，低于该版本需要提供两套启动图<br><a href="http://www.jianshu.com/p/22ec8d179d2e" target="_blank">http://www.jianshu.com/p/22ec8d179d2e</a>  </p>
<h3 id="18-崩溃信息收集">18.崩溃信息收集</h3>
<p>UncaughtExceptionHandler  </p>
<h3 id="19-@compatibility_alias">19.@compatibility_alias</h3>
<p>给类一个别名</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/cashlzcj/cashlzcj.github.io.git/2014/12/05/ios零零碎碎备忘录/" data-id="487n1bcyg8j9c4ef" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12">December 2014</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/12/08/web开发零零碎碎备忘录/">web开发零零碎碎备忘录</a>
          </li>
        
          <li>
            <a href="/2014/12/05/ios零零碎碎备忘录/">iOS零零碎碎备忘录</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 李军<br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script type="text/javascript" src="/js/script.js"></script>
  </div>
</body>
</html>